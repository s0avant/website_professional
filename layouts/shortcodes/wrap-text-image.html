<div>
<head>
    <style>
        .image-left {
            display: flex;
            float: left;
            flex-wrap: wrap;
            justify-content: space-around;
            margin-left: 15px;
            margin-right: 10px;
        }
        
        .image-right {
            display: flex;
            float: right;
            flex-wrap: wrap;
            justify-content: space-around;
            margin-left: 15px;
            margin-right: 10px;
        }
        
        figure {
            position: relative;
            text-align: center;
            padding: 4px;
            margin: auto;
        }

        figcaption {
            font-style: italic;
            font-size: 9px;
            padding: 2px;
            color: #FFF;
            text-shadow: 0.5px 0.5px grey;
            position: absolute;
            bottom: 4px;
            right: 8px;
        }
    </style>
</head>
<body>
    {{ $src := .Get "src" }}
    {{ $alt := .Get "alt" }}
    {{ $caption := .Get "caption"}}
    {{ $class := .Get "class" | default "image-left" }}
    {{ $width := .Get "width" | default "200" }}
    <figure class="{{ $class }}">
        <img src="{{ $src }}" alt="{{ $alt }}" width="{{ $width }}">
        {{ if $caption }}
            <figcaption>{{ $caption }}</figcaption>
        {{ end }}
    </figure>
    <p>
    {{ .Inner }}
    </p>
</body>
</div>